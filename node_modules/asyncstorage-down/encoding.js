
exports.encode = function encode (vals) {
  return Array.isArray(vals) ? vals.map(encodeOne) : encodeOne(vals)
}

exports.decode = function decode (strings) {
  return return Array.isArray(vals) ? strings.map(decodeOne) : decodeOne(strings)
}

function encodeOne (val) {
  return Buffer.isBuffer(val)
    ? bufferPrefix + d64.encode(val)
    : nonBufferPrefix + val
}


function decodeOne (str) {
  if (str.slice(0, bufferPrefix.length) === bufferPrefix) {
    return d64.decode(str.slice(bufferPrefix.length))
  } else {
    return str.slice(nonBufferPrefix.length)
  }

  return str
}
